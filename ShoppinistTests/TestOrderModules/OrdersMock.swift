//
//  OrdersMock.swift
//  ShoppinistTests
//
//  Created by Asalah Sayed on 18/06/2023.
//

import Foundation
@testable import Shoppinist


final class OrdersMock{
    static let ordersData = "{\"orders\":[{\"id\":5324998279460,\"admin_graphql_api_id\":\"gid://shopify/Order/5324998279460\",\"app_id\":44130861057,\"browser_ip\":null,\"buyer_accepts_marketing\":false,\"cancel_reason\":null,\"cancelled_at\":null,\"cart_token\":null,\"checkout_id\":null,\"checkout_token\":null,\"client_details\":null,\"closed_at\":null,\"company\":null,\"confirmed\":true,\"contact_email\":\"asalah@gmail.com\",\"created_at\":\"2023-06-17T16:58:53-04:00\",\"currency\":\"EGP\",\"current_subtotal_price\":\"224.97\",\"current_subtotal_price_set\":{\"shop_money\":{\"amount\":\"224.97\",\"currency_code\":\"EGP\"},\"presentment_money\":{\"amount\":\"224.97\",\"currency_code\":\"EGP\"}},\"current_total_additional_fees_set\":null,\"current_total_discounts\":\"0.00\",\"current_total_discounts_set\":{\"shop_money\":{\"amount\":\"0.00\",\"currency_code\":\"EGP\"},\"presentment_money\":{\"amount\":\"0.00\",\"currency_code\":\"EGP\"}},\"current_total_duties_set\":null,\"current_total_price\":\"238.47\",\"current_total_price_set\":{\"shop_money\":{\"amount\":\"238.47\",\"currency_code\":\"EGP\"},\"presentment_money\":{\"amount\":\"238.47\",\"currency_code\":\"EGP\"}},\"current_total_tax\":\"13.50\",\"current_total_tax_set\":{\"shop_money\":{\"amount\":\"13.50\",\"currency_code\":\"EGP\"},\"presentment_money\":{\"amount\":\"13.50\",\"currency_code\":\"EGP\"}},\"customer_locale\":null,\"device_id\":null,\"discount_codes\":[],\"email\":\"asalah@gmail.com\",\"estimated_taxes\":false,\"financial_status\":\"paid\",\"fulfillment_status\":null,\"landing_site\":null,\"landing_site_ref\":null,\"location_id\":null,\"merchant_of_record_app_id\":null,\"name\":\"#1170\",\"note\":null,\"note_attributes\":[],\"number\":170,\"order_number\":1170,\"order_status_url\":\"https://mad-ism-43-1.myshopify.com/76781846820/orders/d0d6094145444326593b4bc8cd4d9ec8/authenticate?key=ee80ddb1f1bd6c432ff4c8288a0704c1\",\"original_total_additional_fees_set\":null,\"original_total_duties_set\":null,\"payment_gateway_names\":[],\"phone\":null,\"presentment_currency\":\"EGP\",\"processed_at\":\"2023-06-17T16:58:53-04:00\",\"reference\":null,\"referring_site\":null,\"source_identifier\":null,\"source_name\":\"44130861057\",\"source_url\":null,\"subtotal_price\":\"224.97\",\"subtotal_price_set\":{\"shop_money\":{\"amount\":\"224.97\",\"currency_code\":\"EGP\"},\"presentment_money\":{\"amount\":\"224.97\",\"currency_code\":\"EGP\"}},\"tags\":\"\",\"tax_lines\":[{\"price\":\"13.50\",\"rate\":0.06,\"title\":\"Statetax\",\"price_set\":{\"shop_money\":{\"amount\":\"13.50\",\"currency_code\":\"EGP\"},\"presentment_money\":{\"amount\":\"13.50\",\"currency_code\":\"EGP\"}},\"channel_liable\":null}],\"taxes_included\":false,\"test\":false,\"token\":\"d0d6094145444326593b4bc8cd4d9ec8\",\"total_discounts\":\"0.00\",\"total_discounts_set\":{\"shop_money\":{\"amount\":\"0.00\",\"currency_code\":\"EGP\"},\"presentment_money\":{\"amount\":\"0.00\",\"currency_code\":\"EGP\"}},\"total_line_items_price\":\"224.97\",\"total_line_items_price_set\":{\"shop_money\":{\"amount\":\"224.97\",\"currency_code\":\"EGP\"},\"presentment_money\":{\"amount\":\"224.97\",\"currency_code\":\"EGP\"}},\"total_outstanding\":\"238.47\",\"total_price\":\"224.97\",\"total_price_set\":{\"shop_money\":{\"amount\":\"224.97\",\"currency_code\":\"EGP\"},\"presentment_money\":{\"amount\":\"224.97\",\"currency_code\":\"EGP\"}},\"total_shipping_price_set\":{\"shop_money\":{\"amount\":\"0.00\",\"currency_code\":\"EGP\"},\"presentment_money\":{\"amount\":\"0.00\",\"currency_code\":\"EGP\"}},\"total_tax\":\"0.00\",\"total_tax_set\":{\"shop_money\":{\"amount\":\"0.00\",\"currency_code\":\"EGP\"},\"presentment_money\":{\"amount\":\"0.00\",\"currency_code\":\"EGP\"}},\"total_tip_received\":\"0.00\",\"total_weight\":0,\"updated_at\":\"2023-06-17T16:58:53-04:00\",\"user_id\":null,\"billing_address\":null,\"customer\":{\"id\":6930629984548,\"email\":\"asalah@gmail.com\",\"accepts_marketing\":false,\"created_at\":\"2023-06-03T09:03:27-04:00\",\"updated_at\":\"2023-06-17T16:58:53-04:00\",\"first_name\":\"Asalah\",\"last_name\":\"Sayed\",\"state\":\"disabled\",\"note\":\"123456\",\"verified_email\":true,\"multipass_identifier\":null,\"tax_exempt\":false,\"phone\":null,\"email_marketing_consent\":{\"state\":\"not_subscribed\",\"opt_in_level\":\"single_opt_in\",\"consent_updated_at\":null},\"sms_marketing_consent\":null,\"tags\":\"\",\"currency\":\"EGP\",\"accepts_marketing_updated_at\":\"2023-06-03T09:03:27-04:00\",\"marketing_opt_in_level\":null,\"tax_exemptions\":[],\"admin_graphql_api_id\":\"gid://shopify/Customer/6930629984548\",\"default_address\":{\"id\":9157345083684,\"customer_id\":6930629984548,\"first_name\":null,\"last_name\":\"Asalah\",\"company\":null,\"address1\":\"ElsheikhZayed\",\"address2\":null,\"city\":\"Ismailia\",\"province\":null,\"country\":\"Egypt\",\"zip\":null,\"phone\":\"01285645492\",\"name\":\"Asalah\",\"province_code\":null,\"country_code\":\"EG\",\"country_name\":\"Egypt\",\"default\":true}},\"discount_applications\":[],\"fulfillments\":[],\"line_items\":[{\"id\":13839690793252,\"admin_graphql_api_id\":\"gid://shopify/LineItem/13839690793252\",\"fulfillable_quantity\":3,\"fulfillment_service\":\"manual\",\"fulfillment_status\":null,\"gift_card\":false,\"grams\":1300,\"name\":\"BigBrownBearBoots-3/red\",\"price\":\"74.99\",\"price_set\":{\"shop_money\":{\"amount\":\"74.99\",\"currency_code\":\"EGP\"},\"presentment_money\":{\"amount\":\"74.99\",\"currency_code\":\"EGP\"}},\"product_exists\":true,\"product_id\":8355030663460,\"properties\":[],\"quantity\":3,\"requires_shipping\":true,\"sku\":\"DM-03-red-3\",\"taxable\":true,\"title\":\"BigBrownBearBoots\",\"total_discount\":\"0.00\",\"total_discount_set\":{\"shop_money\":{\"amount\":\"0.00\",\"currency_code\":\"EGP\"},\"presentment_money\":{\"amount\":\"0.00\",\"currency_code\":\"EGP\"}},\"variant_id\":45371832533284,\"variant_inventory_management\":\"shopify\",\"variant_title\":\"3/red\",\"vendor\":\"DRMARTENS\",\"tax_lines\":[{\"channel_liable\":null,\"price\":\"13.50\",\"price_set\":{\"shop_money\":{\"amount\":\"13.50\",\"currency_code\":\"EGP\"},\"presentment_money\":{\"amount\":\"13.50\",\"currency_code\":\"EGP\"}},\"rate\":0.06,\"title\":\"Statetax\"}],\"duties\":[],\"discount_allocations\":[]}],\"payment_terms\":null,\"refunds\":[],\"shipping_address\":null,\"shipping_lines\":[]}]}"
}
extension OrdersMock : AllOrderRemoteDataSourceProtocol{
    func deleteOrder(orderID: Int, complication: @escaping (Int) -> Void) {
        complication(1)
    }
    
    func getAllOrders(completionHandeler: @escaping ((Shoppinist.OrdersModel?)) -> Void) {
        let data = Data (OrdersMock.ordersData.utf8)
        do{
            let result = try JSONDecoder().decode(OrdersModel.self, from: data)
            completionHandeler(result)
        }catch let error{
            print(error.localizedDescription)
            completionHandeler(nil)
        }
    }
    
   
}
